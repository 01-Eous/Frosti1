---
title: "每日总结"
description: "这是3月份的每日总结"
pubDate: "Mar 4 2024"
image: "/head_pic/Nahida_3.webp"
categories:
  - life
tags:
  - 日记
---

## 3 月 4 日

考试。

### T1

神秘小结论 + 神秘小 dp。具体就是来算每条边对于答案的贡献，但是因为先看 T1 没甚思路，所以便去把 T2 写了。欲知写完 T2 如何，请听下回分解。

### T2

首先看到题目，一眼大模拟。于是口胡了一个做法。但是，准备开写的时候，发现有问题：怎么判断每条边哪边是里，哪边是外。然后又口胡了 10 min，就真正的开写了。写完了，已经做好心理准备和 bug 大战 300 回合了，但是居然过了大样例？！~~意外之喜~~

### T3

依然是先口胡了一个做法，发现 $f(x)$ 就是 $x = ac + bd$ 的正整数解个数。想到枚举 $[L,R]$ 内的每个 $x$，再枚举 $[1,x-1]$ 的每个 $i$，这样我们就只用统计 $ac = i$ 的正整数解的个数了，显然是因数个数。$O(n^{1.5})$ 预处理，$O(n^2)$ 查询。赛时就想到这里。赛后听 hrl 说可以用 FFT 优化到 $O(n \log n)$，于是去学了 FFT 一个一知半解。但是又听说不用 FFT 可以有 $O(n^{1.5})$，于是兴致勃勃的放弃 FFT。但是 $O(n^{1.5})$ 的神秘小做法还是没搞懂，听说有数论分块做法，明天问问。

### T4

听 zcy 讲了，也懂了，但是改好题推荐去了，于是没补。好像这个做法和大模拟一样，~~不想写啊~~。明天写了。

总结：今天的策略有进步，但不多。码力似乎有所提升？也许是幻觉。机房 rating 有进步，$17.7  \rightarrow 20.0$，慢慢来咯。

## 3 月 5 日

不是考试就是综合训练。

### [Game on Tree (Hard)](https://codeforces.com/problemset/problem/1970/C3)

首先看的不是这题，但是首先 A 的是这题。

先口胡了一个神秘小 dp，果不其然连样例都过不了。经过一番严密推理发现 dp 状态设的有点漏洞，于是把漏洞补起了，内心浅浅的博弈了一下便开始写了。令人震惊的是居然过了样例。更令人震惊的是竟然就这么水灵灵的过了。上洛谷一搜：<font color = "#3498DB">蓝</font>的？！我能切蓝题，真的假的？

当然是假的。

### [Minimizing the Sum](https://codeforces.com/problemset/problem/1969/C)

其实最先看的是这道题。先口胡了一个假做法：把每个 $|a_i - a_{i - 1}|$ 都扔到一个 `multiset` 里面，每次取最大的用来更改答案。但是很显然这个是一个错的。因为有些时候，两个 $i$ 所对应的 $|a_i - a_{i - 1}|$ 是一样的，但是他们俩并不一样优，要判断的话需要 $O(n)$，显然不可取。

我见过好多这种“两种决策看起来一样但是实际上不一样，要决定哪个更优需要再考虑好多麻烦的东西”这样的题。这种无一例外都是 dp。看到 $k \le 10$，就想到把它塞到状态里。然后就搓了一个 $O(nk^2)$，过了。

说句闲话：本来以为是 $O(n^2 k)$ 的，AC 的时候吓死我了，我还以为 CF 神机一秒能跑 $3 \times 10^{11}$ 呢。

### [Infinite Sequence (Easy Version)](https://codeforces.com/problemset/problem/2071/D1)

首先就想到 $a_m = \bigoplus\limits_{1}^{\lfloor \frac{m}{2} \rfloor} a_i = a_{m - 2} \oplus a_{\lfloor \frac{m}{2} \rfloor} $，但是如果递归求解的话，因为有 $m - 2$，所以是 $O(n)$ 起步的。显然不可取。下午看了题解才知道如何变成 $O(\log n)$。

还是太菜了。

### [Nene and the Mex Operator](https://codeforces.com/problemset/problem/1956/D)

这道是蓝的，但是没有切出来。赛时只想到了要操作的区间必须出现 $[0,len - 1]$ 的每个数才最优，实际上可以通过神秘小操作给他操作到这个区间内每个数都是 $len - 1$。先用区间 dp 求解答案，再使用神秘小构造求解操作方法。

总结：实力有增长，但不多。去看了一眼 2023 的 S 组，T2 一眼能想到 50%，多看几眼应该就能做出来。

## 3 月 6 日

考逝。

totscore：$\huge \color{red}{40}$。

究其原因是 T2 的暴力<font size = "6px" color = "#ff0000">爆炸了</font>。

### T1

没看。

正解是这样的：对于每条边，有 $\frac{1}{2x + 1}$ 的概率使得连通块的数量 $+1$，剩下的会使同色的对数 $-1$。直接算就行。

### T2

<font size = "6px" color = "#ff0000">爆炸了</font>

不然不会只有 $40$ 分的呜呜呜。

正解：题目里没写对于硝硼铀数量的限制，我们考虑钦定一个数量限制。设 $dp_{i,j}$ 表示到了第 $i$ 个字符，一共选了 $j$ 个硝硼铀。用 `pair<string,string>` 存。转移有：`dp[i][j] = max(dp[i][j],{dp[i - 1][j - 1].first + s[i - 1],dp[i - 1][j - 1].second + t[i - 1]`。`s[i - 1]` 是因为 $s$ 和 $t$ 是 0-index。

就这个“没限制就钦定一个限制”这操作给我整懵了，这谁想得到啊？

没逝，这次见过了没准下次就想得到了呢？

### T3

神秘小算法。

我们把每次删掉一个数扔掉，因为处于最优性考虑你不会去选同样的一个数。那么先掏一个样例：`4 7 3 6 1 2 5`，最先取的肯定是 `6`，其次是 `3` 或者 `1`。经过一番暴力，我们发现，对于 $\forall i \in [1,n]$ 的每个 $a_i$ 可选次数形如 `1 2 3 4 3 2 1`。我们考虑答案是在值域上的一个区间，那么我们把 $b_i$ 设为 $i$ 的可选次数。那么 $b$ 就是 `3 2 3 1 1 4 2`。考虑 $[2,4]$，我们看到 `4` 的出现次数最小，首先选它。选完，$b$ 在 $[2,4]$ 上变成了 `1 2 0`。以此类推。

考虑一个 $pre_i = \sum_{j = l}^{r}[b_j \le i]$。很明显要有 $\forall i \in [1,n],i - b_i \ge 0$。用线段树维护这个 $i - pre_i$ 区间最小值。区间合法即为区间最小值 $>0$ 用双指针解决。

感谢每一位愿意为我讲题的人。

### T4

没看，考场骗了 40。

总而言之：T1 看到是概率与期望就怕了，没写。T2 的暴力都打挂了我是真的。。。T3 一点思路都没有。就 T4 骗了 40。还是得多练。

T2 那个“没限制就钦定一个限制”是真的没绷住。

## 3 月 10 日

这周只要考两次，今天不考。

### [Shuffling Songs](https://codeforces.com/problemset/problem/1950/G)

一眼做法 + 一眼实现 + 亿眼优化。

第一眼就看出来是个转图论。对于有相同的建边，然后搜出来最长的路径。然后就打了一个暴力。不出所料，T 了。于是加上了神秘小剪枝。不出意外，T 的地方变晚了。但是优化不动了。考虑记搜。因为 $n \le 18$，所以 `vis` 可以塞进一个二进制数里面，时空复杂度都是 $O(n^2 \times 2^n)$，十分的劣。

### [Messenger in MAC](https://codeforces.com/problemset/problem/1935/C)

两眼做法 + 两眼实现 + 调了 2h 的优化

第一道题的剪枝剪不动了就来看这题，但是写挂了，于是去把 T1 写出来就来写这道题了。

发现 $a_i$ 对于答案的贡献无关顺序，但是 $b_i$ 就有关，于是考虑把信息按照 $b_i$ 排序，然后做 dp，$dp_{i,j}$ 表示**钦定** $i$ 一定被选，$[1,i]$ 里选了 $j$ 个的最小花费。答案就循环每个状态，找到最大的 $j$ 使得 $dp_{i,j} \le l$。

本来想的是单调栈优化的，但是好像不行，改成了前缀 $\min$ 优化就过了。

### [Vlad and Trouble at MIT](https://codeforces.com/problemset/problem/1926/G)

一眼做法 + 一眼实现 + 不用优化

这道题总共就花了 20min。那我上午苦思冥想的 2h 和调洪文的 2h 算什么？

对于每个点 $u$ 有 $dp_{u,0}$ 表示这个钦定这个点为 $\texttt{S}$ 时的最小代价，$dp_{u,1}$ 表示钦定它为 $\texttt{P}$ 的最小代价。对于本来就是 $\texttt{S}$ 的点 $u$，$dp_{u,1}$ 显然为 $\inf$，不进行转移。反之亦然。转移方式显然。

剩下 $3$ 题都是看题解过的。还需要巩固。

### 后日谈

然后下午就挺无所事事的，于是去把昨天 arc 的 b 改出来了。感谢 yzp 晚自习问我这道题，不然我绝对不会记得这道题。

改完了 arc194_b，去随便掏了两道 dp 写了，领悟 dp 小技能：状态存不下就把答案塞到状态里。

然后又去写了一道概期。起码是知道了怎么用高斯消元。

NOIp 是 11 月下旬，现在是 3 月中旬，我还有 8 个月的时间。

## 3 月 11 日

今天不用考试，打昨天晚上 CF 的 VP

A，B 题太简单不说。

### [Breach of Faith](https://codeforces.com/contest/2078/problem/C)

反正赛时没做出来就是了。

### [Scammy Game Ad](https://codeforces.com/contest/2078/problem/D)

祝老的练习还真是卓有成效，1800 的题都做得出来 1400 的做不出来。。。

我们发现只有穿过每个闸门后加的是能动的，但是原本放着的不行，我们需要三思而后行。考虑两个同加或者两个**同乘同一个数**是与加的放在哪个位置无关的，考虑每个不满足上面条件的闸门。如果操作符不同，$\Delta$ 肯定是放在乘的地方。~~显而易见~~。对于相同，同加我们不考虑，同乘肯定是放在乘数大的那边。这个是真的显而易见。

~~感觉做法有点假但是它过了~~

### [Finding OR Sum](https://codeforces.com/contest/2078/problem/E)

赛时想到了正解，但是赛时没写出来。把做法告诉了 VP 还要 0.5h 的 yzp，他倒是写出来了。~~也算是某种意义上的 AC~~

考虑第一次查询 $\texttt{0101010101}... = (\texttt{2AAAAAAAA})_{16}$，将查询的答案减去二倍 $(\texttt{2AAAAAAAA})_{16}$，我们得到了 $x + y$ 的奇数位的信息。反之可以得到 $x + y$ 的偶数位信息。我们就可以得出答案了。

看来以后 VP 还是得晚点开。

## 3 月 12 日

昨天晚上去打了 div.3，然后今天看到排名：$5$ 题能排到 $1000$ 名以内。我记得上一次 VP 的 div.3 $5$ 题都排到 $3000$ 多名去了。上 [clist.by](clist.by) 瞅了一眼 T5 的难度：1700，而且做法基本上一眼。~~我真厉害~~

祝老的练习真是卓有成效。

### [Empty Triangle](https://codeforces.com/contest/2074/problem/E)

这就是昨天晚上的 T5。

赛时是这么想的：我先问随便问一个 `1 2 3` 吧。然后假设它返回的是 $i$，我们就再问一个 `1 2 i`。但是我们的出题人造数据肯定会想到有人会这么写于是就想把它卡掉。要不我 `rand()` 决定替换哪一个吧。好，开干！

然后就过了。。。

主打一个我估摸能过它就能过。但是题解用了神秘小方法证明出来这么询问在 $75$ 次以内问不出来的概率是 $1.2 \times 10^{-18}$ 以下。比买彩票还低。

### [[YNOI2019] 游戏](https://www.luogu.com.cn/problem/P5415)

第一眼还以为是 `Ynoi`。。。

读完题先看一眼数据范围：$n \le 10$。应该要用高斯消元。然后苦思冥想 1h+。居然连状态怎么设都不知道。~~我好菜~~。于是去看题解。看到了状态的设法，于是就去推转移。也是成功的推出来了一半。于是又去看题解。于是便懂了。开始写代码。

该说不说这个系数的初始化是真的又臭又长。然后高斯消元还挂了，复制的之前的高斯消元代码。

### [[USACO24JAN] Merging Cells P](https://www.luogu.com.cn/problem/P10141)

其实老早以前就瞟过一眼题解，知道怎么设状态和转移。但是不知道怎么优化。于是又去看题解。

疑似有点题解过度依赖。

并非疑似。

于是去找了几道简单（吗？）的题练手。

### [Aeroplane chess](https://acm.hdu.edu.cn/showproblem.php?pid=4405)

简单是简单，但是我没读题。。。导致题意理解有误...

### [Maze](https://acm.hdu.edu.cn/showproblem.php?pid=4035)

并非简单题。

首先我们就设出来 $dp_u$ 表示当前在 $u$ 还要走几步才能出去。设 $t_i = 1 - k_i - e_i$，显然有 $dp_u = k_i \times dp_1 + t_i \times (dp_{fa} + 1 + \sum\limits_{v \in son_u}(dp_v + 1)$。但是这玩意有后效性。显然不能直接 dp。~~我们直接想到高斯消元~~。

消不了一点。$O(n^3)$ 的复杂度直接让你飞起来。显然我们需要人工消元。于是题解直接把 dp 式子里的 $dp_u$ 之类的全部消完了？？！疑似有点消的太猛了。

然后我们的私人 HDU 评测机性能时好时坏。